@startuml
!theme plain
skinparam backgroundColor #FFFFFF
skinparam activityBackgroundColor #FFEBEE
skinparam activityBorderColor #C62828
skinparam activityFontSize 12
skinparam arrowColor #C62828

title Flujo 6: Registro y Verificaci√≥n Profesional - Dashboard Web (M√©dico)

start

:M√©dico accede a medimind.com/medicos;

:P√°gina Landing Profesionales;
:Mostrar beneficios:
- Monitorear adherencia pacientes
- Recibir alertas autom√°ticas
- Generar reportes
- Sin costo para m√©dicos;

:Click "Registrarse como m√©dico";

partition "Formulario de Registro" {
  :P√°gina Registro Profesional;
  
  :Formulario Paso 1/3 - Datos Personales;
  :M√©dico ingresa:
  - Nombre completo
  - Email
  - Contrase√±a (8+ caracteres)
  - Confirmar contrase√±a;
  
  if (¬øEmail v√°lido?) then (No)
    :Validaci√≥n error:
    "Email inv√°lido";
    stop
  endif
  
  if (¬øContrase√±a segura?) then (No)
    :Validaci√≥n error:
    "Contrase√±a debe tener:
    - M√≠nimo 8 caracteres
    - Al menos 1 may√∫scula
    - Al menos 1 n√∫mero
    - Al menos 1 s√≠mbolo";
    stop
  endif
  
  :Click "Siguiente";
  
  :Formulario Paso 2/3 - Datos Profesionales;
  :M√©dico ingresa:
  - Especialidad (dropdown)
  - N√∫mero de registro m√©dico
  - Pa√≠s de registro
  - Instituci√≥n/Cl√≠nica
  - Tel√©fono de contacto;
  
  if (¬øFormato registro v√°lido?) then (No)
    :Validaci√≥n seg√∫n pa√≠s;
    :Mostrar formato esperado;
    stop
  endif
  
  :Click "Siguiente";
  
  :Formulario Paso 3/3 - Verificaci√≥n;
  :Instrucciones:
  "Sube documentos para verificar
  tu identidad profesional";
  
  :Campos de carga:
  1. Tarjeta profesional (obligatorio)
  2. Certificado vigencia registro (obligatorio)
  3. Carnet institucional (opcional);
  
  :M√©dico sube archivos;
  :Validar formatos (PDF/JPG/PNG);
  :Validar tama√±o (<5MB c/u);
  
  if (¬øDocumentos v√°lidos?) then (No)
    :Mostrar errores espec√≠ficos;
    stop
  endif
  
  :Aceptar T√©rminos y Condiciones;
  :Checkbox:
  "‚òê Acepto los T√©rminos de Servicio
  y Pol√≠tica de Privacidad para
  Profesionales de la Salud";
  
  if (¬øAcepta t√©rminos?) then (No)
    :No puede continuar;
    stop
  endif
  
  :Click "Completar Registro";
}

partition "Proceso de Verificaci√≥n" {
  :Enviar email confirmaci√≥n;
  
  :Email contiene:
  - Link verificaci√≥n email
  - V√°lido por 24 horas;
  
  if (¬øM√©dico verifica email?) then (No)
    :Esperar hasta 24h;
    if (¬øVerifica antes de expirar?) then (No)
      :Cuenta no activada;
      :Enviar email:
      "Tu registro expir√≥.
      Inicia el proceso nuevamente";
      stop
    endif
  endif
  
  :Email verificado ‚úì;
  
  :Sistema analiza documentos;
  
  if (¬øTipo de email?) then (Institucional)
    partition "Verificaci√≥n Autom√°tica" {
      :Detectar dominio institucional:
      - @hospital.com
      - @clinica.com
      - @universidad.edu;
      
      :Validar n√∫mero de registro
      en base de datos oficial;
      
      if (¬øRegistro v√°lido?) then (S√≠)
        :Aprobaci√≥n AUTOM√ÅTICA ‚úì;
        :Tiempo: <2 minutos;
        
        :Enviar email aprobaci√≥n:
        "üéâ ¬°Verificaci√≥n exitosa!
        Tu cuenta est√° activa";
        
        :Activar cuenta inmediatamente;
        :Permitir login;
      else (No)
        :Pasar a verificaci√≥n manual;
      endif
    }
    
  else (Personal: Gmail, Outlook, etc.)
    partition "Verificaci√≥n Manual" {
      :Agregar a cola revisi√≥n;
      
      :Email al m√©dico:
      "Gracias por registrarte.
      
      Tu cuenta est√° en proceso de
      verificaci√≥n. Nuestro equipo
      revisar√° tus documentos en las
      pr√≥ximas 48 horas.
      
      Te notificaremos por email
      cuando est√© lista.";
      
      :Equipo MediMind revisa:
      - Calidad documentos
      - Validez registro m√©dico
      - Coincidencia datos;
      
      if (¬øDocumentos correctos?) then (S√≠)
        :Aprobar manualmente;
        :Tiempo: 6-48 horas;
        
        :Enviar email aprobaci√≥n;
        :Activar cuenta;
        
      else (No)
        :Rechazar registro;
        
        :Email con razones:
        - Documentos ilegibles
        - Registro no encontrado
        - Datos inconsistentes
        - Documentos vencidos;
        
        :Ofrecer opciones:
        1. Resubir documentos
        2. Contactar soporte
        3. Intentar nuevamente;
        
        stop
      endif
    }
  endif
}

partition "Primer Acceso" {
  :Cuenta APROBADA;
  :M√©dico hace login;
  
  :Pantalla Bienvenida;
  :Mensaje:
  "¬°Bienvenido/a Dr./Dra. [Nombre]!
  
  Tu cuenta ha sido verificada
  exitosamente";
  
  :Ofrecer tutorial opcional;
  if (¬øIniciar tutorial?) then (S√≠)
    :Tour guiado 5 minutos:
    1. Dashboard principal
    2. Generar c√≥digo vinculaci√≥n
    3. Ver solicitudes pacientes
    4. Monitorear adherencia
    5. Generar reportes;
    
  else (Saltar)
    :Marcar "Tutorial disponible
    en men√∫ Ayuda";
  endif
  
  :Dashboard inicial (vac√≠o);
  
  :CTA destacado:
  "üîó Genera tu primer c√≥digo
  de vinculaci√≥n
  
  Comp√°rtelo con tus pacientes
  para comenzar a monitorearlos";
  
  :Click CTA;
  :Abrir modal generaci√≥n c√≥digo;
  
  :Sistema genera c√≥digo √∫nico:
  - Formato: MED-XXXX-XXXX
  - V√°lido: 30 d√≠as
  - Un solo uso;
  
  :Modal muestra c√≥digo grande;
  :Opciones compartir:
  - Copiar al portapapeles
  - Enviar por email
  - Generar QR code
  - Imprimir;
  
  :M√©dico comparte c√≥digo;
  
  :Dashboard actualizado;
  :Secci√≥n "C√≥digos generados";
  :Lista de c√≥digos:
  - C√≥digo
  - Fecha generaci√≥n
  - Estado (Activo/Usado/Expirado)
  - Usado por (si aplica);
}

:Dashboard listo para uso;
:M√©dico puede:
- Generar m√°s c√≥digos
- Esperar solicitudes
- Configurar preferencias
- Ver perfil profesional;

stop

@enduml
