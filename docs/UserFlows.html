<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediMind - User Flows Completos</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px 40px;
            text-align: center;
        }

        header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        header p {
            font-size: 1.3em;
            opacity: 0.9;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            padding: 40px;
            background: #f8f9fa;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-number {
            font-size: 3em;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            color: #666;
            font-size: 0.95em;
            margin-top: 8px;
        }

        .instructions {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 30px;
            margin: 40px;
            border-radius: 10px;
        }

        .instructions h2 {
            color: #856404;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .instructions ol {
            margin-left: 20px;
        }

        .instructions li {
            margin: 15px 0;
            color: #856404;
            font-size: 1.1em;
        }

        .instructions code {
            background: #f8f9fa;
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #d63384;
        }

        .content {
            padding: 40px;
        }

        .flow-section {
            margin-bottom: 60px;
            border-bottom: 3px solid #f0f0f0;
            padding-bottom: 40px;
        }

        .flow-section:last-child {
            border-bottom: none;
        }

        .flow-header {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            border-left: 6px solid;
        }

        .flow-header.mobile {
            border-left-color: #2196F3;
        }

        .flow-header.web {
            border-left-color: #f44336;
        }

        .flow-header.error {
            border-left-color: #ff9800;
        }

        .flow-header h2 {
            font-size: 2em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .flow-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .flow-header.mobile .flow-icon {
            background: #2196F3;
        }

        .flow-header.web .flow-icon {
            background: #f44336;
        }

        .flow-header.error .flow-icon {
            background: #ff9800;
        }

        .flow-meta {
            display: flex;
            gap: 30px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #666;
            font-size: 0.95em;
        }

        .meta-item strong {
            color: #333;
        }

        .flow-description {
            background: white;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid #e0e0e0;
        }

        .flow-description h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .flow-description p {
            color: #555;
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .flow-description ul, .flow-description ol {
            margin-left: 25px;
            color: #555;
        }

        .flow-description li {
            margin: 8px 0;
        }

        .diagram-placeholder {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: 3px dashed #ccc;
            border-radius: 15px;
            padding: 60px;
            text-align: center;
            margin: 30px 0;
            position: relative;
        }

        .diagram-placeholder::before {
            content: "üìä";
            font-size: 4em;
            display: block;
            margin-bottom: 20px;
        }

        .diagram-placeholder h4 {
            color: #667eea;
            font-size: 1.5em;
            margin-bottom: 15px;
        }

        .diagram-placeholder p {
            color: #666;
            font-size: 1.1em;
        }

        .diagram-placeholder code {
            background: white;
            color: #d63384;
            padding: 5px 12px;
            border-radius: 6px;
            font-weight: 600;
            display: inline-block;
            margin-top: 10px;
        }

        .key-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .feature-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .feature-card h4 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .feature-card ul {
            list-style: none;
            margin: 0;
        }

        .feature-card li {
            padding: 5px 0;
            color: #555;
            position: relative;
            padding-left: 20px;
        }

        .feature-card li::before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #4caf50;
            font-weight: bold;
        }

        .download-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 50px 40px;
            text-align: center;
            margin-top: 40px;
        }

        .download-section h2 {
            font-size: 2.5em;
            margin-bottom: 20px;
        }

        .download-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 30px;
        }

        .btn {
            background: white;
            color: #667eea;
            padding: 15px 35px;
            border-radius: 10px;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1em;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .btn-secondary {
            background: transparent;
            color: white;
            border: 2px solid white;
        }

        .btn-secondary:hover {
            background: white;
            color: #667eea;
        }

        footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 30px;
        }

        footer p {
            opacity: 0.8;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 2em;
            }

            .stats {
                grid-template-columns: 1fr;
            }

            .flow-meta {
                flex-direction: column;
                gap: 10px;
            }

            .content {
                padding: 20px;
            }
        }

        .highlight-box {
            background: #e3f2fd;
            border-left: 5px solid #2196F3;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .highlight-box.warning {
            background: #fff3e0;
            border-left-color: #ff9800;
        }

        .highlight-box.success {
            background: #e8f5e9;
            border-left-color: #4caf50;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üè• MediMind - User Flows</h1>
            <p>Sistema Completo de Flujos de Usuario para Gesti√≥n de Medicamentos</p>
        </header>

        <div class="stats">
            <div class="stat-card">
                <div class="stat-number">9</div>
                <div class="stat-label">Flujos Completos</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">5</div>
                <div class="stat-label">Flujos App M√≥vil</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">3</div>
                <div class="stat-label">Flujos Dashboard Web</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">40+</div>
                <div class="stat-label">Pantallas Mapeadas</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">50+</div>
                <div class="stat-label">Decisiones de Usuario</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">15+</div>
                <div class="stat-label">Casos de Error</div>
            </div>
        </div>

        <div class="instructions">
            <h2>üìã C√≥mo Generar los Diagramas</h2>
            <p><strong>Sigue estos pasos para convertir los archivos .puml en im√°genes:</strong></p>
            <ol>
                <li>Visita: <code>http://www.plantuml.com/plantuml/uml/</code></li>
                <li>Abre cualquier archivo <code>.puml</code> con un editor de texto</li>
                <li>Copia TODO el contenido del archivo</li>
                <li>Pega el contenido en el editor web de PlantUML</li>
                <li>Click en <strong>"Submit"</strong></li>
                <li>El diagrama se generar√° autom√°ticamente</li>
                <li>Click derecho ‚Üí "Guardar imagen como..." para descargar</li>
                <li>Repite para los 9 archivos .puml</li>
            </ol>
            <p style="margin-top: 20px;"><strong>üí° Tip:</strong> Exporta como PNG para mejor calidad en presentaciones, o como SVG para documentos web.</p>
        </div>

        <div class="content">
            <!-- FLUJO 1 -->
            <div class="flow-section">
                <div class="flow-header mobile">
                    <h2>
                        <div class="flow-icon">üì±</div>
                        <span>Flujo 1: Registro e Ingreso (Onboarding)</span>
                    </h2>
                    <div class="flow-meta">
                        <div class="meta-item">
                            <strong>Plataforma:</strong> App M√≥vil (Paciente)
                        </div>
                        <div class="meta-item">
                            <strong>Pantallas:</strong> 11
                        </div>
                        <div class="meta-item">
                            <strong>Tiempo estimado:</strong> 3-5 minutos
                        </div>
                        <div class="meta-item">
                            <strong>Archivo:</strong> <code>01_registro_onboarding.puml</code>
                        </div>
                    </div>
                </div>

                <div class="flow-description">
                    <h3>Objetivo del Flujo</h3>
                    <p>Permitir que nuevos usuarios creen su cuenta y completen el proceso de onboarding, o que usuarios existentes accedan a la aplicaci√≥n de manera segura.</p>

                    <h3>Descripci√≥n Detallada</h3>
                    <p>Este flujo maneja dos caminos principales:</p>
                    
                    <div class="key-features">
                        <div class="feature-card">
                            <h4>Primera vez (Registro)</h4>
                            <ul>
                                <li>Splash screen inicial</li>
                                <li>3 pantallas de bienvenida</li>
                                <li>Formulario de registro</li>
                                <li>Verificaci√≥n de email</li>
                                <li>Configuraci√≥n inicial de perfil</li>
                                <li>Solicitud de permisos</li>
                                <li>Tutorial interactivo</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h4>Usuario existente (Login)</h4>
                            <ul>
                                <li>Pantalla de login directo</li>
                                <li>Recuperaci√≥n de contrase√±a</li>
                                <li>Bloqueo tras 3 intentos fallidos</li>
                                <li>Verificaci√≥n de actualizaciones</li>
                                <li>Sincronizaci√≥n autom√°tica</li>
                            </ul>
                        </div>
                    </div>

                    <div class="highlight-box">
                        <strong>Puntos de Dolor Identificados:</strong>
                        <ul>
                            <li>Onboarding muy largo puede causar abandono</li>
                            <li>Email de verificaci√≥n no llega o va a spam</li>
                            <li>Usuarios rechazan permisos sin entender el valor</li>
                        </ul>
                    </div>

                    <div class="highlight-box success">
                        <strong>Soluciones Implementadas:</strong>
                        <ul>
                            <li>Onboarding limitado a 3 pantallas m√°ximo</li>
                            <li>Opci√≥n "Saltar tutorial" para usuarios experimentados</li>
                            <li>Reenv√≠o de email con un solo click</li>
                            <li>Explicar valor de permisos antes de solicitarlos</li>
                        </ul>
                    </div>
                </div>

                <div class="diagram-placeholder">
                    <h4>Diagrama de Flujo 1</h4>
                    <p>Genera este diagrama usando el archivo:</p>
                    <code>01_registro_onboarding.puml</code>
                </div>
            </div>

            <!-- FLUJO 2 -->
            <div class="flow-section">
                <div class="flow-header mobile">
                    <h2>
                        <div class="flow-icon">üíä</div>
                        <span>Flujo 2: Agregar Medicamento</span>
                    </h2>
                    <div class="flow-meta">
                        <div class="meta-item">
                            <strong>Plataforma:</strong> App M√≥vil (Paciente)
                        </div>
                        <div class="meta-item">
                            <strong>Pantallas:</strong> 7
                        </div>
                        <div class="meta-item">
                            <strong>Tiempo estimado:</strong> 2-7 minutos
                        </div>
                        <div class="meta-item">
                            <strong>Archivo:</strong> <code>02_agregar_medicamento.puml</code>
                        </div>
                    </div>
                </div>

                <div class="flow-description">
                    <h3>Objetivo del Flujo</h3>
                    <p>Permitir a los usuarios agregar medicamentos a su lista de manera r√°pida y precisa, utilizando m√∫ltiples m√©todos de entrada seg√∫n su preferencia y situaci√≥n.</p>

                    <h3>Descripci√≥n Detallada</h3>
                    <p>Este flujo ofrece 3 m√©todos de entrada para maximizar la comodidad:</p>
                    
                    <div class="key-features">
                        <div class="feature-card">
                            <h4>M√©todo 1: Escaneo de C√≥digo de Barras</h4>
                            <ul>
                                <li>Apertura de c√°mara autom√°tica</li>
                                <li>Detecci√≥n autom√°tica del c√≥digo</li>
                                <li>Autocompletado de datos del medicamento</li>
                                <li>B√∫squeda en base de datos farmac√©utica</li>
                                <li>Tiempo: 30 segundos - 2 minutos</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h4>M√©todo 2: Foto de Receta (OCR)</h4>
                            <ul>
                                <li>Captura de foto de receta m√©dica</li>
                                <li>Procesamiento OCR inteligente</li>
                                <li>Detecci√≥n m√∫ltiple de medicamentos</li>
                                <li>Selecci√≥n de lista detectada</li>
                                <li>Tiempo: 1-3 minutos</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h4>M√©todo 3: Ingreso Manual</h4>
                            <ul>
                                <li>Autocompletado mientras escribe</li>
                                <li>Sugerencias inteligentes</li>
                                <li>Base de datos completa</li>
                                <li>Mayor control del usuario</li>
                                <li>Tiempo: 3-7 minutos</li>
                            </ul>
                        </div>
                    </div>

                    <h3>Configuraci√≥n de Horarios</h3>
                    <p>Despu√©s de seleccionar el medicamento, el usuario configura:</p>
                    <ul>
                        <li><strong>Dosis:</strong> Cantidad en mg/ml</li>
                        <li><strong>Frecuencia:</strong> Cada 8h, 12h, 24h, o personalizado</li>
                        <li><strong>Duraci√≥n:</strong> Fecha espec√≠fica, indefinido, o n√∫mero de d√≠as</li>
                        <li><strong>Instrucciones especiales:</strong> Notas personalizadas</li>
                    </ul>

                    <div class="highlight-box warning">
                        <strong>‚ö†Ô∏è Verificaci√≥n de Interacciones Medicamentosas</strong>
                        <p>Si el usuario ya tiene medicamentos registrados, el sistema consulta una API para verificar posibles interacciones. Se muestran alertas seg√∫n severidad:</p>
                        <ul>
                            <li><strong>Leve:</strong> Informaci√≥n, puede continuar</li>
                            <li><strong>Moderada:</strong> Advertencia, recomendar consultar m√©dico</li>
                            <li><strong>Grave:</strong> Alerta destacada, requiere confirmaci√≥n expl√≠cita</li>
                        </ul>
                    </div>
                </div>

                <div class="diagram-placeholder">
                    <h4>Diagrama de Flujo 2</h4>
                    <p>Genera este diagrama usando el archivo:</p>
                    <code>02_agregar_medicamento.puml</code>
                </div>
            </div>

            <!-- FLUJO 3 -->
            <div class="flow-section">
                <div class="flow-header mobile">
                    <h2>
                        <div class="flow-icon">üîî</div>
                        <span>Flujo 3: Recordatorio y Confirmaci√≥n de Toma</span>
                    </h2>
                    <div class="flow-meta">
                        <div class="meta-item">
                            <strong>Plataforma:</strong> App M√≥vil (Paciente)
                        </div>
                        <div class="meta-item">
                            <strong>Interacciones:</strong> M√∫ltiples
                        </div>
                        <div class="meta-item">
                            <strong>Tiempo estimado:</strong> 10-30 segundos
                        </div>
                        <div class="meta-item">
                            <strong>Archivo:</strong> <code>03_recordatorio_confirmacion.puml</code>
                        </div>
                    </div>
                </div>

                <div class="flow-description">
                    <h3>Objetivo del Flujo</h3>
                    <p>Notificar al usuario en el momento exacto de tomar su medicamento y registrar con precisi√≥n si lo tom√≥, cu√°ndo lo tom√≥, o por qu√© no lo tom√≥.</p>

                    <h3>Descripci√≥n Detallada</h3>
                    <p>Este es el flujo m√°s cr√≠tico del sistema, ya que afecta directamente la adherencia del paciente. La notificaci√≥n push ofrece 3 opciones inmediatas:</p>

                    <div class="key-features">
                        <div class="feature-card">
                            <h4>Opci√≥n 1: "Tomado" ‚úì</h4>
                            <ul>
                                <li>Registra timestamp exacto</li>
                                <li>Calcula adherencia seg√∫n retraso</li>
                                <li>Actualiza stock restante</li>
                                <li>Sincroniza con dashboard m√©dico</li>
                                <li>Alerta si stock bajo (<3 dosis)</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h4>Opci√≥n 2: "Posponer" ‚è∞</h4>
                            <ul>
                                <li>Seleccionar: 5, 15, 30, o 60 min</li>
                                <li>M√°ximo 3 pospuestos</li>
                                <li>Afecta adherencia (-5% por pospuesto)</li>
                                <li>Al 3er pospuesto: advertencia final</li>
                                <li>>3 pospuestos: marca NO tomado</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h4>Opci√≥n 3: "Ver detalles" üìÑ</h4>
                            <ul>
                                <li>Abre app en info del medicamento</li>
                                <li>Muestra instrucciones completas</li>
                                <li>Permite confirmar o posponer despu√©s</li>
                                <li>√ötil para recordar indicaciones</li>
                            </ul>
                        </div>
                    </div>

                    <h3>Sistema de Escala de Recordatorios</h3>
                    <p>Si el usuario ignora la notificaci√≥n, el sistema implementa un protocolo de escala:</p>
                    <ol>
                        <li><strong>T+0:</strong> Notificaci√≥n inicial con 3 opciones</li>
                        <li><strong>T+10 min:</strong> Recordatorio insistente (sonido m√°s fuerte, vibraci√≥n m√°s larga)</li>
                        <li><strong>T+20 min:</strong> √öLTIMA notificaci√≥n con advertencia</li>
                        <li><strong>T+1 hora:</strong> Marca autom√°ticamente como NO tomado, adherencia = 0%, alerta al m√©dico</li>
                    </ol>

                    <div class="highlight-box warning">
                        <strong>Patr√≥n Frecuente de No Adherencia</strong>
                        <p>Si el sistema detecta que el usuario no toma medicamentos >3 veces por semana y tiene un contacto de emergencia configurado, env√≠a una alerta autom√°tica para intervenci√≥n temprana.</p>
                    </div>

                    <h3>L√≥gica de C√°lculo de Adherencia</h3>
                    <ul>
                        <li><strong>100%:</strong> Tomado a tiempo (¬±5 minutos)</li>
                        <li><strong>90%:</strong> Retraso menor a 30 minutos</li>
                        <li><strong>70%:</strong> Retraso de 30-60 minutos</li>
                        <li><strong>50%:</strong> Saltado intencionalmente con justificaci√≥n</li>
                        <li><strong>0%:</strong> No tomado despu√©s de 1 hora o >3 pospuestos</li>
                    </ul>

                    <div class="highlight-box success">
                        <strong>Decisi√≥n de Dise√±o: Confirmaci√≥n Activa</strong>
                        <p>Requerimos que el usuario confirme activamente la toma en lugar de auto-cerrar la notificaci√≥n. Esto evita falsos positivos y proporciona datos confiables al m√©dico. Estudios muestran que 95% de los pospuestos que superan 3 veces terminan en no adherencia.</p>
                    </div>
                </div>

                <div class="diagram-placeholder">
                    <h4>Diagrama de Flujo 3</h4>
                    <p>Genera este diagrama usando el archivo:</p>
                    <code>03_recordatorio_confirmacion.puml</code>
                </div>
            </div>

            <!-- FLUJO 4 -->
            <div class="flow-section">
                <div class="flow-header mobile">
                    <h2>
                        <div class="flow-icon">üìä</div>
                        <span>Flujo 4: Consultar Historial</span>
                    </h2>
                    <div class="flow-meta">
                        <div class="meta-item">
                            <strong>Plataforma:</strong> App M√≥vil (Paciente)
                        </div>
                        <div class="meta-item">
                            <strong>Pantallas:</strong> 5
                        </div>
                        <div class="meta-item">
                            <strong>Archivo:</strong> <code>04_consultar_historial.puml</code>
                        </div>
                    </div>
                </div>

                <div class="flow-description">
                    <h3>Objetivo del Flujo</h3>
                    <p>Permitir al usuario revisar su adherencia hist√≥rica, identificar patrones, y exportar reportes para compartir con su m√©dico.</p>

                    <h3>Visualizaci√≥n de Datos</h3>
                    <div class="key-features">
                        <div class="feature-card">
                            <h4>Vista Principal</h4>
                            <ul>
                                <li>Calendario mensual con color-coding</li>
                                <li>% adherencia en n√∫mero grande</li>
                                <li>Gr√°fico de tendencia 30 d√≠as</li>
                                <li>Indicadores visuales por estado</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h4>C√≥digo de Colores</h4>
                            <ul>
                                <li>üü¢ Verde: D√≠as completos</li>
                                <li>üü° Amarillo: D√≠as con retrasos</li>
                                <li>üî¥ Rojo: D√≠as con faltas</li>
                                <li>‚ö™ Gris: D√≠as saltados intencionalmente</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h4>Tarjetas de Estad√≠sticas</h4>
                            <ul>
                                <li>Adherencia global con tendencia</li>
                                <li>Racha actual (d√≠as consecutivos)</li>
                                <li>Medicamentos por adherencia</li>
                                <li>An√°lisis de horarios</li>
                            </ul>
                        </div>
                    </div>

                    <h3>Filtros Avanzados</h3>
                    <p>El usuario puede filtrar su historial por:</p>
                    <ul>
                        <li><strong>Rango de fechas:</strong> √öltima semana, mes, 3 meses, o personalizado</li>
                        <li><strong>Medicamento espec√≠fico:</strong> Ver adherencia por medicamento</li>
                        <li><strong>Por estado:</strong> Solo tomados, retrasados, no tomados, o saltados</li>
                    </ul>

                    <h3>Exportaci√≥n de Reportes</h3>
                    <p>Funcionalidad cr√≠tica para compartir con m√©dicos. El usuario puede:</p>
                    <ol>
                        <li>Seleccionar rango de fechas y medicamentos</li>
                        <li>Incluir/excluir estad√≠sticas y gr√°ficos</li>
                        <li>Elegir formato: PDF o Excel</li>
                        <li>Enviar directamente al m√©dico vinculado o compartir por otras apps</li>
                    </ol>

                    <div class="highlight-box">
                        <strong>Edici√≥n de Registros Hist√≥ricos</strong>
                        <p>Si el usuario necesita corregir un registro (por ejemplo, olvid√≥ confirmarlo), puede editarlo pero debe:</p>
                        <ul>
                            <li>Proporcionar una nota explicativa</li>
                            <li>El registro se marca como "Editado por usuario"</li>
                            <li>Se guarda el timestamp de la edici√≥n</li>
                            <li>Mantiene transparencia e integridad de datos</li>
                        </ul>
                    </div>
                </div>

                <div class="diagram-placeholder">
                    <h4>Diagrama de Flujo 4</h4>
                    <p>Genera este diagrama usando el archivo:</p>
                    <code>04_consultar_historial.puml</code>
                </div>
            </div>

            <!-- FLUJO 5 -->
            <div class="flow-section">
                <div class="flow-header mobile">
                    <h2>
                        <div class="flow-icon">üîó</div>
                        <span>Flujo 5: Vincular con M√©dico</span>
                    </h2>
                    <div class="flow-meta">
                        <div class="meta-item">
                            <strong>Plataforma:</strong> App M√≥vil (Paciente)
                        </div>
                        <div class="meta-item">
                            <strong>Pantallas:</strong> 6
                        </div>
                        <div class="meta-item">
                            <strong>Tiempo estimado:</strong> 2-5 minutos
                        </div>
                        <div class="meta-item">
                            <strong>Archivo:</strong> <code>05_vincular_medico.puml</code>
                        </div>
                    </div>
                </div>

                <div class="flow-description">
                    <h3>Objetivo del Flujo</h3>
                    <p>Establecer una conexi√≥n segura entre el paciente y su m√©dico para compartir datos de adherencia de forma controlada.</p>

                    <h3>Descripci√≥n Detallada</h3>
                    
                    <div class="key-features">
                        <div class="feature-card">
                            <h4>Con C√≥digo de Vinculaci√≥n</h4>
                            <ul>
                                <li>Usuario ingresa c√≥digo formato MED-XXXX-XXXX</li>
                                <li>Sistema valida existencia y vigencia</li>
                                <li>Muestra datos del m√©dico para confirmaci√≥n</li>
                                <li>Env√≠a solicitud al m√©dico</li>
                                <li>Notifica al paciente cuando se acepta</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h4>Sin C√≥digo</h4>
                            <ul>
                                <li>Sistema genera mensaje plantilla</li>
                                <li>Usuario lo comparte por WhatsApp, Email, o SMS</li>
                                <li>M√©dico genera c√≥digo desde su dashboard</li>
                                <li>Paciente vuelve e ingresa el c√≥digo</li>
                            </ul>
                        </div>
                    </div>

                    <h3>Caracter√≠sticas del C√≥digo</h3>
                    <ul>
                        <li><strong>Formato √∫nico:</strong> MED-XXXX-XXXX</li>
                        <li><strong>Validez:</strong> 30 d√≠as desde generaci√≥n</li>
                        <li><strong>Un solo uso:</strong> Se invalida al ser utilizado</li>
                        <li><strong>Seguridad:</strong> Verificaci√≥n en ambos lados</li>
                    </ul>

                    <h3>Proceso de Vinculaci√≥n</h3>
                    <ol>
                        <li>Paciente ingresa c√≥digo v√°lido</li>
                        <li>Sistema muestra tarjeta del m√©dico con foto, nombre, especialidad, instituci√≥n</li>
                        <li>Paciente confirma "¬øEs este tu m√©dico?"</li>
                        <li>Se env√≠a solicitud al dashboard del m√©dico</li>
                        <li>M√©dico revisa y acepta/rechaza en m√°ximo 7 d√≠as</li>
                        <li>Si acepta: notificaci√≥n push al paciente + inicio de sincronizaci√≥n</li>
                        <li>Si rechaza: notificaci√≥n con raz√≥n (opcional) + sugerencias</li>
                    </ol>

                    <div class="highlight-box success">
                        <strong>Control Total del Paciente</strong>
                        <p>El paciente tiene control absoluto sobre la vinculaci√≥n:</p>
                        <ul>
                            <li>Puede ver exactamente qu√© datos se comparten</li>
                            <li>Puede pausar la compartici√≥n temporalmente</li>
                            <li>Puede desvincular en cualquier momento</li>
                            <li>El m√©dico NO puede modificar medicamentos</li>
                            <li>El m√©dico NO accede a datos sin consentimiento</li>
                        </ul>
                    </div>

                    <h3>Gesti√≥n Post-Vinculaci√≥n</h3>
                    <p>Una vez vinculado, el paciente puede:</p>
                    <ul>
                        <li><strong>Ver datos compartidos:</strong> Lista de qu√© informaci√≥n ve el m√©dico</li>
                        <li><strong>Pausar compartici√≥n:</strong> Detiene sincronizaci√≥n sin desvincular</li>
                        <li><strong>Desvincular:</strong> Termina la conexi√≥n (requiere confirmaci√≥n)</li>
                    </ul>
                </div>

                <div class="diagram-placeholder">
                    <h4>Diagrama de Flujo 5</h4>
                    <p>Genera este diagrama usando el archivo:</p>
                    <code>05_vincular_medico.puml</code>
                </div>
            </div>

            <!-- FLUJO 6 -->
            <div class="flow-section">
                <div class="flow-header web">
                    <h2>
                        <div class="flow-icon">üë®‚Äç‚öïÔ∏è</div>
                        <span>Flujo 6: Registro y Verificaci√≥n Profesional</span>
                    </h2>
                    <div class="flow-meta">
                        <div class="meta-item">
                            <strong>Plataforma:</strong> Dashboard Web (M√©dico)
                        </div>
                        <div class="meta-item">
                            <strong>Pasos:</strong> 3 etapas
                        </div>
                        <div class="meta-item">
                            <strong>Tiempo estimado:</strong> 5-10 minutos (+ verificaci√≥n)
                        </div>
                        <div class="meta-item">
                            <strong>Archivo:</strong> <code>06_registro_medico.puml</code>
                        </div>
                    </div>
                </div>

                <div class="flow-description">
                    <h3>Objetivo del Flujo</h3>
                    <p>Verificar la identidad profesional de m√©dicos antes de permitirles acceso al dashboard de monitoreo de pacientes, cumpliendo con regulaciones de privacidad de datos m√©dicos (HIPAA).</p>

                    <h3>Formulario de Registro - 3 Pasos</h3>
                    
                    <div class="key-features">
                        <div class="feature-card">
                            <h4>Paso 1: Datos Personales</h4>
                            <ul>
                                <li>Nombre completo</li>
                                <li>Email profesional</li>
                                <li>Contrase√±a segura (8+ caracteres)</li>
                                <li>Confirmaci√≥n de contrase√±a</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h4>Paso 2: Datos Profesionales</h4>
                            <ul>
                                <li>Especialidad (dropdown)</li>
                                <li>N√∫mero de registro m√©dico</li>
                                <li>Pa√≠s de registro</li>
                                <li>Instituci√≥n/Cl√≠nica</li>
                                <li>Tel√©fono de contacto</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h4>Paso 3: Verificaci√≥n</h4>
                            <ul>
                                <li>Tarjeta profesional (obligatorio)</li>
                                <li>Certificado vigencia (obligatorio)</li>
                                <li>Carnet institucional (opcional)</li>
                                <li>Formatos: PDF, JPG, PNG</li>
                                <li>Tama√±o m√°ximo: 5MB por archivo</li>
                            </ul>
                        </div>
                    </div>

                    <h3>Proceso de Verificaci√≥n</h3>
                    
                    <div class="highlight-box">
                        <strong>Verificaci√≥n Autom√°tica (2 minutos)</strong>
                        <p>Si el m√©dico usa email institucional (@hospital.com, @clinica.com, @universidad.edu) Y su n√∫mero de registro es v√°lido en la base de datos oficial:</p>
                        <ul>
                            <li>‚úì Aprobaci√≥n AUTOM√ÅTICA</li>
                            <li>‚úì Cuenta activada inmediatamente</li>
                            <li>‚úì Email de aprobaci√≥n enviado</li>
                            <li>‚úì Puede hacer login de inmediato</li>
                        </ul>
                    </div>

                    <div class="highlight-box warning">
                        <strong>Verificaci√≥n Manual (6-48 horas)</strong>
                        <p>Si el m√©dico usa email personal (Gmail, Outlook, etc.) o hay inconsistencias:</p>
                        <ul>
                            <li>‚è≥ Cuenta entra en cola de revisi√≥n</li>
                            <li>üë®‚Äçüíº Equipo MediMind revisa documentos manualmente</li>
                            <li>üìß Email de confirmaci√≥n al aprobarse</li>
                            <li>‚ùå Si se rechaza, se explican las razones y se ofrece reenv√≠o</li>
                        </ul>
                    </div>

                    <h3>Primer Acceso al Dashboard</h3>
                    <p>Una vez aprobado, el m√©dico accede a:</p>
                    <ol>
                        <li><strong>Pantalla de bienvenida:</strong> Mensaje de confirmaci√≥n</li>
                        <li><strong>Tutorial opcional:</strong> Tour guiado de 5 minutos</li>
                        <li><strong>Dashboard vac√≠o:</strong> Sin pacientes todav√≠a</li>
                        <li><strong>CTA principal:</strong> "Genera tu primer c√≥digo de vinculaci√≥n"</li>
                        <li><strong>Generaci√≥n de c√≥digo:</strong> Sistema crea c√≥digo MED-XXXX-XXXX √∫nico</li>
                        <li><strong>Opciones para compartir:</strong> Copiar, email, QR code, imprimir</li>
                    </ol>

                    <div class="highlight-box success">
                        <strong>Decisi√≥n de Dise√±o: Verificaci√≥n Profesional</strong>
                        <p>La verificaci√≥n exhaustiva es cr√≠tica porque:</p>
                        <ul>
                            <li><strong>Cumplimiento legal:</strong> HIPAA y regulaciones locales</li>
                            <li><strong>Confianza del paciente:</strong> Saber que comparten con m√©dico real</li>
                            <li><strong>Seguridad:</strong> Prevenir acceso no autorizado a datos m√©dicos</li>
                        </ul>
                    </div>
                </div>

                <div class="diagram-placeholder">
                    <h4>Diagrama de Flujo 6</h4>
                    <p>Genera este diagrama usando el archivo:</p>
                    <code>06_registro_medico.puml</code>
                </div>
            </div>

            <!-- FLUJO 7 -->
            <div class="flow-section">
                <div class="flow-header web">
                    <h2>
                        <div class="flow-icon">üìà</div>
                        <span>Flujo 7: Monitoreo de Pacientes</span>
                    </h2>
                    <div class="flow-meta">
                        <div class="meta-item">
                            <strong>Plataforma:</strong> Dashboard Web (M√©dico)
                        </div>
                        <div class="meta-item">
                            <strong>Pantallas:</strong> 8
                        </div>
                        <div class="meta-item">
                            <strong>Archivo:</strong> <code>07_monitoreo_pacientes.puml</code>
                        </div>
                    </div>
                </div>

                <div class="flow-description">
                    <h3>Objetivo del Flujo</h3>
                    <p>Proporcionar a los m√©dicos una vista completa y accionable del cumplimiento de tratamiento de sus pacientes vinculados.</p>

                    <h3>Dashboard Principal</h3>
                    
                    <div class="key-features">
                        <div class="feature-card">
                            <h4>KPIs Principales</h4>
                            <ul>
                                <li>Total de pacientes vinculados</li>
                                <li>Alertas pendientes (badge rojo)</li>
                                <li>Adherencia promedio de todos</li>
                                <li>Pacientes en riesgo (<70%)</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h4>Tabla de Pacientes</h4>
                            <ul>
                                <li>Nombre (o an√≥nimo si configurado)</li>
                                <li>Edad del paciente</li>
                                <li>% adherencia √∫ltimos 7 d√≠as</li>
                                <li>Indicador üü¢üü°üî¥ por nivel</li>
                                <li>Cantidad de medicamentos activos</li>
                                <li>√öltima conexi√≥n del paciente</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h4>Filtros Disponibles</h4>
                            <ul>
                                <li>Solo pacientes en riesgo</li>
                                <li>Por rango de adherencia</li>
                                <li>Por condici√≥n m√©dica</li>
                                <li>Por per√≠odo de tiempo</li>
                                <li>B√∫squeda por nombre</li>
                            </ul>
                        </div>
                    </div>

                    <h3>C√≥digo de Colores por Adherencia</h3>
                    <ul>
                        <li><strong>üü¢ Verde (‚â•85%):</strong> Excelente adherencia, bajo riesgo</li>
                        <li><strong>üü° Amarillo (70-84%):</strong> Adherencia aceptable, monitorear</li>
                        <li><strong>üî¥ Rojo (<70%):</strong> En riesgo, requiere intervenci√≥n</li>
                    </ul>

                    <h3>Vista Detallada de Paciente</h3>
                    <p>Al hacer click en un paciente, el m√©dico accede a:</p>
                    <ol>
                        <li><strong>Perfil:</strong> Datos b√°sicos, fecha vinculaci√≥n, condiciones m√©dicas</li>
                        <li><strong>Adherencia:</strong> % grande, gr√°fico 30 d√≠as, tendencia</li>
                        <li><strong>Medicamentos activos:</strong> Tabla con adherencia por medicamento</li>
                        <li><strong>Historial reciente:</strong> Timeline de √∫ltimos 14 d√≠as</li>
                        <li><strong>Alertas:</strong> Lista de alertas activas con timestamps</li>
                    </ol>

                    <h3>Sistema de Alertas Autom√°ticas</h3>
                    <p>El sistema genera alertas cuando detecta:</p>
                    <ul>
                        <li>‚ö†Ô∏è <strong>Adherencia <70%</strong> por 3+ d√≠as consecutivos</li>
                        <li>üìµ <strong>Sin conexi√≥n</strong> por 7+ d√≠as</li>
                        <li>üîî <strong>Medicamento olvidado</strong> >3 veces en una semana</li>
                        <li>‚õî <strong>Paciente paus√≥/desvincul√≥</strong> compartici√≥n</li>
                    </ul>

                    <h3>Acciones sobre Paciente</h3>
                    <div class="key-features">
                        <div class="feature-card">
                            <h4>Ver historial completo</h4>
                            <ul>
                                <li>Calendario interactivo</li>
                                <li>Filtros de fecha</li>
                                <li>Exportar como PDF</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h4>Contactar paciente</h4>
                            <ul>
                                <li>Ver email registrado</li>
                                <li>Generar mensaje plantilla</li>
                                <li>Marcar para seguimiento</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h4>Gesti√≥n</h4>
                            <ul>
                                <li>Agregar nota cl√≠nica privada</li>
                                <li>Generar reporte completo</li>
                                <li>Desvincular paciente</li>
                            </ul>
                        </div>
                    </div>

                    <div class="highlight-box">
                        <strong>Nota Importante: Privacidad</strong>
                        <p>No hay comunicaci√≥n directa paciente-m√©dico desde la app por razones de privacidad y regulaci√≥n. El m√©dico ve el email registrado pero debe contactar por canales oficiales de su instituci√≥n.</p>
                    </div>
                </div>

                <div class="diagram-placeholder">
                    <h4>Diagrama de Flujo 7</h4>
                    <p>Genera este diagrama usando el archivo:</p>
                    <code>07_monitoreo_pacientes.puml</code>
                </div>
            </div>

            <!-- FLUJO 8 -->
            <div class="flow-section">
                <div class="flow-header web">
                    <h2>
                        <div class="flow-icon">‚úÖ</div>
                        <span>Flujo 8: Aceptar Solicitud de Vinculaci√≥n</span>
                    </h2>
                    <div class="flow-meta">
                        <div class="meta-item">
                            <strong>Plataforma:</strong> Dashboard Web (M√©dico)
                        </div>
                        <div class="meta-item">
                            <strong>Tiempo estimado:</strong> 1-2 minutos
                        </div>
                        <div class="meta-item">
                            <strong>Archivo:</strong> <code>08_aceptar_vinculacion.puml</code>
                        </div>
                    </div>
                </div>

                <div class="flow-description">
                    <h3>Objetivo del Flujo</h3>
                    <p>Permitir al m√©dico revisar y aprobar/rechazar solicitudes de vinculaci√≥n de pacientes de manera eficiente y segura.</p>

                    <h3>Notificaci√≥n de Solicitud</h3>
                    <p>Cuando un paciente usa un c√≥digo de vinculaci√≥n, el m√©dico recibe:</p>
                    <ul>
                        <li>üîî <strong>Badge num√©rico</strong> en icono de campana</li>
                        <li>üì¢ <strong>Banner en dashboard:</strong> "Nueva solicitud de [Nombre Paciente]"</li>
                        <li>üìß <strong>Email (opcional):</strong> Notificaci√≥n por correo</li>
                    </ul>

                    <h3>Modal de Solicitud</h3>
                    <p>El m√©dico hace click y ve una tarjeta con:</p>
                    <ul>
                        <li>Nombre completo del paciente</li>
                        <li>Edad y g√©nero</li>
                        <li>Fecha de solicitud</li>
                        <li>C√≥digo usado (para referencia)</li>
                        <li>Condiciones m√©dicas declaradas (si aplica)</li>
                        <li>Mensaje del paciente (si agreg√≥ uno)</li>
                    </ul>

                    <h3>Opciones del M√©dico</h3>
                    
                    <div class="key-features">
                        <div class="feature-card">
                            <h4>Opci√≥n 1: Aceptar ‚úì</h4>
                            <ul>
                                <li>Modal de confirmaci√≥n con t√©rminos</li>
                                <li>Sistema procesa vinculaci√≥n</li>
                                <li>Activa sincronizaci√≥n autom√°tica</li>
                                <li>Notifica al paciente (push + email)</li>
                                <li>Paciente aparece en lista inmediatamente</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h4>Opci√≥n 2: Rechazar ‚úó</h4>
                            <ul>
                                <li>Confirmaci√≥n de rechazo</li>
                                <li>Opci√≥n de agregar raz√≥n visible para paciente</li>
                                <li>Notifica al paciente con raz√≥n</li>
                                <li>Sugerencias para resolver</li>
                                <li>Solicitud eliminada de lista</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h4>Opci√≥n 3: Solicitar info ‚ÑπÔ∏è</h4>
                            <ul>
                                <li>M√©dico escribe qu√© necesita verificar</li>
                                <li>Paciente recibe notificaci√≥n</li>
                                <li>Marca como "Pendiente de informaci√≥n"</li>
                                <li>Expira en 7 d√≠as si no hay respuesta</li>
                                <li>M√©dico puede aceptar/rechazar despu√©s</li>
                            </ul>
                        </div>
                    </div>

                    <h3>Confirmaci√≥n al Aceptar</h3>
                    <p>El sistema muestra claramente:</p>
                    <div class="highlight-box success">
                        <strong>Al aceptar esta vinculaci√≥n:</strong>
                        <p><strong>El m√©dico PODR√Å:</strong></p>
                        <ul>
                            <li>‚úì Monitorear adherencia en tiempo real</li>
                            <li>‚úì Recibir alertas autom√°ticas de no cumplimiento</li>
                            <li>‚úì Ver historial de tomas</li>
                            <li>‚úì Generar reportes</li>
                        </ul>
                        <p><strong>El m√©dico NO PODR√Å:</strong></p>
                        <ul>
                            <li>‚úó Modificar medicamentos del paciente</li>
                            <li>‚úó Acceder a datos sin consentimiento</li>
                            <li>‚úó Impedir que paciente se desvincule</li>
                        </ul>
                    </div>

                    <h3>Gesti√≥n de M√∫ltiples Solicitudes</h3>
                    <p>Si el m√©dico tiene varias solicitudes pendientes:</p>
                    <ul>
                        <li>Tabla ordenada por fecha de solicitud</li>
                        <li>Filtros: Nuevas, Pendientes de info, Todas</li>
                        <li>Contador en sidebar</li>
                        <li>Opci√≥n "Revisar siguiente" para eficiencia</li>
                        <li>Atajos de teclado: Enter=Aceptar, R=Rechazar, I=Info, ‚Üí=Siguiente</li>
                    </ul>

                    <h3>Historial de Solicitudes</h3>
                    <p>Para auditor√≠a y cumplimiento, el m√©dico puede ver:</p>
                    <ul>
                        <li>Todas las solicitudes aceptadas (fecha, paciente)</li>
                        <li>Solicitudes rechazadas (fecha, raz√≥n)</li>
                        <li>Solicitudes expiradas (fecha)</li>
                        <li>B√∫squeda por nombre o rango de fechas</li>
                        <li>Exportar historial como PDF/Excel</li>
                    </ul>
                </div>

                <div class="diagram-placeholder">
                    <h4>Diagrama de Flujo 8</h4>
                    <p>Genera este diagrama usando el archivo:</p>
                    <code>08_aceptar_vinculacion.puml</code>
                </div>
            </div>

            <!-- FLUJO 9 -->
            <div class="flow-section">
                <div class="flow-header error">
                    <h2>
                        <div class="flow-icon">üì∂</div>
                        <span>Flujo 9: Manejo de P√©rdida de Conexi√≥n (Offline)</span>
                    </h2>
                    <div class="flow-meta">
                        <div class="meta-item">
                            <strong>Plataforma:</strong> App M√≥vil (Paciente)
                        </div>
                        <div class="meta-item">
                            <strong>Tipo:</strong> Manejo de Errores
                        </div>
                        <div class="meta-item">
                            <strong>Archivo:</strong> <code>09_manejo_offline.puml</code>
                        </div>
                    </div>
                </div>

                <div class="flow-description">
                    <h3>Objetivo del Flujo</h3>
                    <p>Garantizar que la app siga siendo funcional cuando no hay conexi√≥n a internet, manteniendo la experiencia del usuario y sincronizando datos cuando se restablece la conexi√≥n.</p>

                    <h3>Detecci√≥n de P√©rdida de Conexi√≥n</h3>
                    <p>Cuando el sistema detecta p√©rdida de conexi√≥n:</p>
                    <ul>
                        <li>üî¥ Registra timestamp de desconexi√≥n</li>
                        <li>üì∂ Muestra banner discreto: "Sin conexi√≥n - Trabajando offline"</li>
                        <li>üé® Banner no intrusivo (parte superior, color neutro, se puede cerrar)</li>
                        <li>‚úÖ Usuario puede seguir usando la app normalmente</li>
                    </ul>

                    <h3>Funcionalidad Offline</h3>
                    
                    <div class="key-features">
                        <div class="feature-card">
                            <h4>‚úÖ DISPONIBLE Offline</h4>
                            <ul>
                                <li>Confirmar toma de medicamento</li>
                                <li>Ver historial de adherencia</li>
                                <li>Agregar medicamento (manual)</li>
                                <li>Modificar horarios</li>
                                <li>Ver estad√≠sticas locales</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <h4>‚ùå NO DISPONIBLE Offline</h4>
                            <ul>
                                <li>Verificar interacciones medicamentosas</li>
                                <li>Escanear c√≥digo de barras</li>
                                <li>OCR de receta m√©dica</li>
                                <li>Vincular con m√©dico</li>
                                <li>Sincronizar con dashboard m√©dico</li>
                            </ul>
                        </div>
                    </div>

                    <h3>Cola de Sincronizaci√≥n</h3>
                    <p>El sistema mantiene una cola de operaciones pendientes:</p>
                    <ol>
                        <li>Confirmaciones de toma (con timestamp exacto)</li>
                        <li>Medicamentos agregados (todos los datos)</li>
                        <li>Horarios modificados (cambios espec√≠ficos)</li>
                        <li>Registros editados (nueva informaci√≥n)</li>
                        <li>Medicamentos eliminados (IDs)</li>
                    </ol>

                    <p>La cola se almacena en SQLite local y persiste entre cierres de app. El usuario ve un indicador:</p>
                    <div class="highlight-box warning">
                        <strong>üîÑ [N] acciones pendientes de sincronizaci√≥n</strong>
                    </div>

                    <h3>Proceso de Sincronizaci√≥n</h3>
                    <p>Cuando se detecta reconexi√≥n, el sistema ejecuta 4 pasos:</p>

                    <ol>
                        <li><strong>Descargar datos del servidor:</strong> Obtener √∫ltimas actualizaciones</li>
                        <li><strong>Detectar conflictos:</strong> Comparar versiones local vs servidor</li>
                        <li><strong>Resolver conflictos:</strong> Priorizar timestamp m√°s reciente o permitir decisi√≥n del usuario</li>
                        <li><strong>Enviar cambios locales:</strong> Procesar cola de operaciones por lotes</li>
                    </ol>

                    <h3>Resoluci√≥n de Conflictos</h3>
                    <div class="highlight-box">
                        <strong>Pol√≠tica de Conflictos</strong>
                        <ul>
                            <li><strong>Mismo registro editado:</strong> Timestamp m√°s reciente gana</li>
                            <li><strong>Medicamento eliminado en servidor:</strong> Verificar si usuario lo modific√≥ localmente ‚Üí Mostrar di√°logo</li>
                            <li><strong>Datos inconsistentes:</strong> Forzar sincronizaci√≥n completa desde servidor</li>
                        </ul>
                    </div>

                    <h3>Reintentos y Errores</h3>
                    <p>Para cada operaci√≥n de sincronizaci√≥n:</p>
                    <ul>
                        <li>‚úì <strong>Exitosa:</strong> Marcar como sincronizada, eliminar de cola</li>
                        <li>‚ö†Ô∏è <strong>Error:</strong> Mantener en cola, incrementar contador de reintentos</li>
                        <li>‚ùå <strong>>3 reintentos:</strong> Mostrar alerta al usuario con opciones: Reintentar ahora / Descartar / Intentar m√°s tarde</li>
                    </ul>

                    <h3>Casos Especiales</h3>
                    
                    <div class="highlight-box warning">
                        <strong>‚ö†Ô∏è Offline Prolongado (>24 horas)</strong>
                        <p>Advertencia al usuario:</p>
                        <ul>
                            <li>No se verifican interacciones medicamentosas</li>
                            <li>Dashboard m√©dico est√° desactualizado</li>
                            <li>Datos podr√≠an estar obsoletos</li>
                        </ul>
                    </div>

                    <div class="highlight-box warning">
                        <strong>üö® Offline Cr√≠tico (>7 d√≠as)</strong>
                        <p>Advertencia cr√≠tica:</p>
                        <ul>
                            <li>Datos no sincronizados por m√°s de una semana</li>
                            <li>M√©dico no ve adherencia del paciente</li>
                            <li>Riesgo de p√©rdida de informaci√≥n</li>
                            <li>Ofrecer diagnosticar problema de conexi√≥n</li>
                        </ul>
                    </div>

                    <h3>Finalizaci√≥n</h3>
                    <p>Una vez completada la sincronizaci√≥n:</p>
                    <ul>
                        <li>‚úì Banner: "Todo actualizado" (se oculta en 3 segundos)</li>
                        <li>üîÑ Contador vuelve a 0</li>
                        <li>‚úÖ Todas las funciones disponibles nuevamente</li>
                        <li>üìä M√©tricas enviadas para mejorar el sistema</li>
                    </ul>
                </div>

                <div class="diagram-placeholder">
                    <h4>Diagrama de Flujo 9</h4>
                    <p>Genera este diagrama usando el archivo:</p>
                    <code>09_manejo_offline.puml</code>
                </div>
            </div>

        </div>

        <footer>
            <p><strong>MediMind - User Flows Completos</strong></p>
            <p>Proyecto Final de UX - Coursera</p>
            <p>Febrero 2026</p>
        </footer>
    </div>
</body>
</html>
